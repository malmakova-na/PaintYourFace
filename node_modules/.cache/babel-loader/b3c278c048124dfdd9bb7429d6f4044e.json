{"ast":null,"code":"var _jsxFileName = \"/home/namina/courses/tinkoff/paint-your-face/src/components/canvas/Canvas.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect, Fragment, useState } from 'react';\nimport Palette from '../Palette/Palette';\nimport Buttons from '../Buttons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst draw = (canvas, context, color) => {\n  canvas.onmousemove = function drawIfPressed(e) {\n    let x = e.offsetX;\n    let y = e.offsetY;\n    let dx = e.movementX;\n    let dy = e.movementY;\n    context.lineCap = \"round\";\n    context.lineWidth = 8;\n\n    if (e.buttons > 0) {\n      context.beginPath();\n      context.moveTo(x, y);\n      context.lineTo(x - dx, y - dy);\n      context.stroke();\n      context.strokeStyle = color;\n      context.closePath();\n    }\n  };\n};\n\nconst Canvas = props => {\n  _s();\n\n  let [color, setColor] = useState('black');\n  const canvasRef = useRef(null);\n\n  const onChangeColor = color => {\n    setColor(color);\n  };\n\n  const clear = () => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    context.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    draw(canvas, context, color);\n  }, [draw, color]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"canvas\",\n      width: \"450\",\n      height: \"450\",\n      ref: canvasRef,\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Buttons, {\n      clear: clear\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Palette, {\n      onChangeColor: onChangeColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 10\n  }, this);\n}; // <Buttons clear={clear(canvasRef.getContext('2d'))} />\n\n\n_s(Canvas, \"IDUxgqFpJnPTXGTaMCkcNmrDlyo=\");\n\n_c = Canvas;\nexport default Canvas;\n\nvar _c;\n\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"sources":["/home/namina/courses/tinkoff/paint-your-face/src/components/canvas/Canvas.js"],"names":["React","useRef","useEffect","Fragment","useState","Palette","Buttons","draw","canvas","context","color","onmousemove","drawIfPressed","e","x","offsetX","y","offsetY","dx","movementX","dy","movementY","lineCap","lineWidth","buttons","beginPath","moveTo","lineTo","stroke","strokeStyle","closePath","Canvas","props","setColor","canvasRef","onChangeColor","clear","current","getContext","clearRect","width","height"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,QAAnC,EAA6CC,QAA7C,QAA6D,OAA7D;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,OAAP,MAAoB,YAApB;;;AAEA,MAAMC,IAAI,GAAG,CAACC,MAAD,EAASC,OAAT,EAAkBC,KAAlB,KAA4B;AACrCF,EAAAA,MAAM,CAACG,WAAP,GAAqB,SAASC,aAAT,CAAwBC,CAAxB,EAA2B;AAC5C,QAAIC,CAAC,GAAGD,CAAC,CAACE,OAAV;AACA,QAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,QAAIC,EAAE,GAAGL,CAAC,CAACM,SAAX;AACA,QAAIC,EAAE,GAAGP,CAAC,CAACQ,SAAX;AACAZ,IAAAA,OAAO,CAACa,OAAR,GAAkB,OAAlB;AACAb,IAAAA,OAAO,CAACc,SAAR,GAAoB,CAApB;;AACA,QAAIV,CAAC,CAACW,OAAF,GAAY,CAAhB,EAAmB;AACjBf,MAAAA,OAAO,CAACgB,SAAR;AACAhB,MAAAA,OAAO,CAACiB,MAAR,CAAeZ,CAAf,EAAkBE,CAAlB;AACAP,MAAAA,OAAO,CAACkB,MAAR,CAAeb,CAAC,GAAGI,EAAnB,EAAuBF,CAAC,GAAGI,EAA3B;AACAX,MAAAA,OAAO,CAACmB,MAAR;AACAnB,MAAAA,OAAO,CAACoB,WAAR,GAAsBnB,KAAtB;AACAD,MAAAA,OAAO,CAACqB,SAAR;AACD;AACJ,GAfD;AAgBH,CAjBD;;AAkBA,MAAMC,MAAM,GAAGC,KAAK,IAAI;AAAA;;AACpB,MAAI,CAACtB,KAAD,EAAQuB,QAAR,IAAoB7B,QAAQ,CAAC,OAAD,CAAhC;AACA,QAAM8B,SAAS,GAAGjC,MAAM,CAAC,IAAD,CAAxB;;AACA,QAAMkC,aAAa,GAAGzB,KAAK,IAAI;AAC3BuB,IAAAA,QAAQ,CAACvB,KAAD,CAAR;AACH,GAFD;;AAIA,QAAM0B,KAAK,GAAG,MAAM;AAChB,UAAM5B,MAAM,GAAG0B,SAAS,CAACG,OAAzB;AACA,UAAM5B,OAAO,GAAGD,MAAM,CAAC8B,UAAP,CAAkB,IAAlB,CAAhB;AACA7B,IAAAA,OAAO,CAAC8B,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB/B,MAAM,CAACgC,KAA/B,EAAsChC,MAAM,CAACiC,MAA7C;AACH,GAJD;;AAKAvC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMM,MAAM,GAAG0B,SAAS,CAACG,OAAzB;AACA,UAAM5B,OAAO,GAAGD,MAAM,CAAC8B,UAAP,CAAkB,IAAlB,CAAhB;AACA/B,IAAAA,IAAI,CAACC,MAAD,EAASC,OAAT,EAAkBC,KAAlB,CAAJ;AACH,GAJQ,EAIN,CAACH,IAAD,EAAOG,KAAP,CAJM,CAAT;AAMF,sBAAO,QAAC,QAAD;AAAA,4BACL;AAAQ,MAAA,EAAE,EAAC,QAAX;AAAoB,MAAA,KAAK,EAAC,KAA1B;AAAgC,MAAA,MAAM,EAAC,KAAvC;AAA6C,MAAA,GAAG,EAAEwB,SAAlD;AAAA,SAAiEF;AAAjE;AAAA;AAAA;AAAA;AAAA,YADK,eAEL,QAAC,OAAD;AAAS,MAAA,KAAK,EAAEI;AAAhB;AAAA;AAAA;AAAA;AAAA,YAFK,eAGL,QAAC,OAAD;AAAS,MAAA,aAAa,EAAED;AAAxB;AAAA;AAAA;AAAA;AAAA,YAHK;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAKD,CAvBD,C,CAwBA;;;GAxBMJ,M;;KAAAA,M;AAyBN,eAAeA,MAAf","sourcesContent":["import React, { useRef, useEffect, Fragment, useState } from 'react';\nimport Palette from '../Palette/Palette';\nimport Buttons from '../Buttons'\n\nconst draw = (canvas, context, color) => {\n    canvas.onmousemove = function drawIfPressed (e) {\n        let x = e.offsetX;\n        let y = e.offsetY;\n        let dx = e.movementX;\n        let dy = e.movementY;\n        context.lineCap = \"round\";\n        context.lineWidth = 8;\n        if (e.buttons > 0) {\n          context.beginPath();\n          context.moveTo(x, y);\n          context.lineTo(x - dx, y - dy);\n          context.stroke();\n          context.strokeStyle = color;\n          context.closePath();\n        }\n    };\n}\nconst Canvas = props => {\n    let [color, setColor] = useState('black');\n    const canvasRef = useRef(null);\n    const onChangeColor = color => {\n        setColor(color);\n    };\n\n    const clear = () => {\n        const canvas = canvasRef.current\n        const context = canvas.getContext('2d');\n        context.clearRect(0, 0, canvas.width, canvas.height);\n    };\n    useEffect(() => {\n        const canvas = canvasRef.current\n        const context = canvas.getContext('2d');\n        draw(canvas, context, color);\n    }, [draw, color])\n  \n  return <Fragment>\n    <canvas id='canvas' width='450' height='450' ref={canvasRef} {...props}/>\n    <Buttons clear={clear} />\n    <Palette onChangeColor={onChangeColor}></Palette>\n  </Fragment> \n}\n// <Buttons clear={clear(canvasRef.getContext('2d'))} />\nexport default Canvas;"]},"metadata":{},"sourceType":"module"}